[{"path":"basic/basic.component.css","content":".item{\r\n  padding: 10px;\r\n  border-bottom: 1px solid #efefef;\r\n}\r\n\r\n.loading{\r\n  text-align: center;\r\n  color: #999;\r\n}\r\n\r\n.actions{\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}"},{"path":"basic/basic.component.html","content":"<div class=\"container\" ntPagingContainer #paging=\"ntPaging\" url=\"/api/getPagingData\">\r\n  <div class=\"loading\" *ngIf=\"(paging.state$ | async) === 'pending'\">\r\n    分页数据加载中...\r\n  </div>\r\n  \r\n  <div class=\"list\" *ngIf=\"(paging.state$ | async) !== 'pending'\">\r\n    <div class=\"item\" *ngFor=\"let item of paging.data$ | async\">\r\n      {{item | json}}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"actions\">\r\n    <button class=\"fresh\" (click)=\"paging.fresh()\">刷新</button>\r\n  </div>  \r\n</div>"},{"path":"basic/basic.component.ts","content":"import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'nt-pagingContainer-basic-example',\r\n  templateUrl: './basic.component.html',\r\n  styleUrls: ['./basic.component.css']\r\n})\r\nexport class NtPagingContainerBasicExampleComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"},{"path":"filter/filter.component.html","content":"<div class=\"container\"  ntPagingContainer #paging=\"ntPaging\" url=\"/api/getPagingData\">\r\n  <div class=\"filters\">\r\n    <input type=\"text\" placeholder=\"请输入关键词\" #searchInput> &nbsp;\r\n    <button (click)=\"paging.addFilter({name: searchInput.value})\">查询</button>\r\n  </div>\r\n  <nz-table \r\n    [nzData]=\"paging.data$ | async\" \r\n    [nzShowPagination]=\"true\" \r\n    [nzFrontPagination]=\"false\" \r\n    [nzTotal]=\"paging.total\"\r\n    [nzLoading]=\"(paging.state$ | async) === 'pending'\"\r\n    [nzPageIndex]=\"paging.page.pageNo\"\r\n    (nzPageIndexChange)=\"paging.gotoPage($event)\"\r\n  >\r\n    <thead>\r\n      <tr>\r\n        <th>名称</th>\r\n        <th>分组</th>\r\n        <th>排名</th>\r\n        <th>地址</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let item of paging.data$ | async\">\r\n        <td >{{item.name}}</td>\r\n        <td >{{item.category}}</td>\r\n        <td >{{item.rank}}</td>\r\n        <td >{{item.address}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </nz-table>\r\n</div>"},{"path":"filter/filter.component.scss","content":".filters{\r\n  margin-bottom: 10px;\r\n}"},{"path":"filter/filter.component.ts","content":"import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'nt-pagingContainer-filter-example',\r\n  templateUrl: './filter.component.html',\r\n  styleUrls: ['./filter.component.scss']\r\n})\r\nexport class NtPagingContainerFilterExampleComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"},{"path":"page/page.component.html","content":"<div class=\"container\"  ntPagingContainer #paging=\"ntPaging\" url=\"/api/getPagingData\">\r\n  <nz-table \r\n    [nzData]=\"paging.data$ | async\" \r\n    [nzShowPagination]=\"true\" \r\n    [nzFrontPagination]=\"false\" \r\n    [nzTotal]=\"paging.total\"\r\n    [nzLoading]=\"(paging.state$ | async) === 'pending'\"\r\n    (nzPageIndexChange)=\"paging.gotoPage($event)\"\r\n  >\r\n    <thead>\r\n      <tr>\r\n        <th>名称</th>\r\n        <th>分组</th>\r\n        <th>排名</th>\r\n        <th>地址</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let item of paging.data$ | async\">\r\n        <td >{{item.name}}</td>\r\n        <td >{{item.category}}</td>\r\n        <td >{{item.rank}}</td>\r\n        <td >{{item.address}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </nz-table>\r\n</div>"},{"path":"page/page.component.scss","content":""},{"path":"page/page.component.ts","content":"import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'nt-pagingContainer-page-example',\r\n  templateUrl: './page.component.html',\r\n  styleUrls: ['./page.component.scss']\r\n})\r\nexport class NtPagingContainerPageExampleComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"},{"path":"scroll/scroll.component.html","content":"<div class=\"container\" ntPagingContainer #paging=\"ntPaging\" url=\"/api/getPagingData\" [options]=\"{scrollLoading: true}\">\r\n  <div class=\"list\" ntScrollLoading>\r\n    <div class=\"item\" *ngFor=\"let item of paging.data$ | async\">\r\n      {{item | json}}\r\n    </div>\r\n  </div>\r\n</div>"},{"path":"scroll/scroll.component.scss","content":".list{\r\n  height: 200px;\r\n  border: 1px solid skyblue;\r\n  padding: 10px;\r\n  overflow-y: scroll;\r\n}"},{"path":"scroll/scroll.component.spec.ts","content":"/* tslint:disable:no-unused-variable */\r\nimport { async, ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { By } from '@angular/platform-browser';\r\nimport { DebugElement } from '@angular/core';\r\n\r\nimport { ScrollComponent } from './scroll.component';\r\n\r\ndescribe('ScrollComponent', () => {\r\n  let component: ScrollComponent;\r\n  let fixture: ComponentFixture<ScrollComponent>;\r\n\r\n  beforeEach(async(() => {\r\n    TestBed.configureTestingModule({\r\n      declarations: [ ScrollComponent ]\r\n    })\r\n    .compileComponents();\r\n  }));\r\n\r\n  beforeEach(() => {\r\n    fixture = TestBed.createComponent(ScrollComponent);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('should create', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n});\r\n"},{"path":"scroll/scroll.component.ts","content":"import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'nt-pagingContainer-scroll-example',\r\n  templateUrl: './scroll.component.html',\r\n  styleUrls: ['./scroll.component.scss']\r\n})\r\nexport class NtPagingContainerScrollExampleComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"},{"path":"service/service.component.html","content":"<div class=\"container\">\r\n  <nz-table \r\n    [nzData]=\"data\" \r\n    [nzShowPagination]=\"true\" \r\n    [nzFrontPagination]=\"false\" \r\n    [nzTotal]=\"total\"\r\n    [nzLoading]=\"isLoading\"\r\n    (nzPageIndexChange)=\"gotoPage($event)\"\r\n  >\r\n    <thead>\r\n      <tr>\r\n        <th>名称</th>\r\n        <th>分组</th>\r\n        <th>排名</th>\r\n        <th>地址</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let item of data\">\r\n        <td >{{item.name}}</td>\r\n        <td >{{item.category}}</td>\r\n        <td >{{item.rank}}</td>\r\n        <td >{{item.address}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </nz-table>\r\n</div>"},{"path":"service/service.component.scss","content":""},{"path":"service/service.component.spec.ts","content":"/* tslint:disable:no-unused-variable */\r\nimport { async, ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { By } from '@angular/platform-browser';\r\nimport { DebugElement } from '@angular/core';\r\n\r\nimport { ServiceComponent } from './service.component';\r\n\r\ndescribe('ServiceComponent', () => {\r\n  let component: ServiceComponent;\r\n  let fixture: ComponentFixture<ServiceComponent>;\r\n\r\n  beforeEach(async(() => {\r\n    TestBed.configureTestingModule({\r\n      declarations: [ ServiceComponent ]\r\n    })\r\n    .compileComponents();\r\n  }));\r\n\r\n  beforeEach(() => {\r\n    fixture = TestBed.createComponent(ServiceComponent);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('should create', () => {\r\n    expect(component).toBeTruthy();\r\n  });\r\n});\r\n"},{"path":"service/service.component.ts","content":"import { Component, OnInit } from '@angular/core';\r\nimport { PagingDataService } from 'ng-treater';\r\n\r\n@Component({\r\n  selector: 'nt-pagingContainer-service-example',\r\n  templateUrl: './service.component.html',\r\n  styleUrls: ['./service.component.scss'],\r\n  providers: [PagingDataService]\r\n})\r\nexport class NtPagingContainerServiceExampleComponent implements OnInit {\r\n\r\n  data: any[] = [];\r\n\r\n  get total() {\r\n    return this.paging.total\r\n  }\r\n\r\n  get isLoading() {\r\n    return this.paging.loadingState$.value === 'pending'\r\n  }\r\n\r\n  constructor(\r\n    private paging: PagingDataService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.paging.create('/api/getPagingData')\r\n      .subscribe(data => {\r\n        this.data = data.map(el => {\r\n          return {...el, name: 'name-'+el.name}\r\n        })\r\n      })\r\n  }\r\n\r\n  gotoPage(index: number) {\r\n    this.paging.gotoPage(index)\r\n  }\r\n\r\n}\r\n"},{"path":"examples.module.ts","content":"\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { NG_TREATER_SETTINGS,  NgTreaterSetting, NgTreaterModule } from 'ng-treater';\r\nimport { NtPagingContainerBasicExampleComponent } from './basic/basic.component';\r\n\r\nimport { mock, setup } from 'mockjs'\r\nimport { NtPagingContainerPageExampleComponent } from './page/page.component';\r\n\r\nimport { NzTableModule } from 'ng-zorro-antd/table'\r\nimport { NtPagingContainerFilterExampleComponent } from './filter/filter.component';\r\nimport { NtPagingContainerServiceExampleComponent } from './service/service.component';\r\nimport { NtPagingContainerScrollExampleComponent } from './scroll/scroll.component';\r\n\r\nsetup({\r\n  timeout: 2000\r\n})\r\n\r\nmock(/\\/api\\/getPagingData/, 'post', {\r\n  'data|10': [\r\n    {\r\n      'name': '@cname', \r\n      'category': '@ctitle', \r\n      'rank|1-100': 1,\r\n      'id|+1': 1, \r\n      'address': '@city',\r\n      'cdt': '@datetime'\r\n    }\r\n  ],\r\n  total: 200\r\n})\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NtPagingContainerBasicExampleComponent,\r\n    NtPagingContainerPageExampleComponent,\r\n    NtPagingContainerFilterExampleComponent,\r\n    NtPagingContainerServiceExampleComponent,\r\n    NtPagingContainerScrollExampleComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    NgTreaterModule,\r\n    NzTableModule\r\n  ],\r\n  exports: [\r\n    NtPagingContainerBasicExampleComponent,\r\n    NtPagingContainerPageExampleComponent,\r\n    NtPagingContainerFilterExampleComponent,\r\n    NtPagingContainerServiceExampleComponent,\r\n    NtPagingContainerScrollExampleComponent\r\n  ],\r\n  providers: [\r\n    {provide: NG_TREATER_SETTINGS, useValue: <NgTreaterSetting>{\r\n      paging: {\r\n        start: 1,\r\n        size: 10,\r\n        indexKey: 'pageNo',\r\n        sizeKey: 'pageSize',\r\n        dataPlucker: ['data'],\r\n        totalPlucker: ['total'],\r\n        scrollLoading: false,\r\n        method: 'post'\r\n      },\r\n      simple: {\r\n        plucker: ['data'],\r\n        method: 'get'\r\n      }\r\n    }}\r\n  ]\r\n})\r\nexport class NtPagingContainerExamplesModule { }"}]